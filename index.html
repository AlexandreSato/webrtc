<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Arquivo no Servidor</title>
</head>
<body>
    <h1>Criar Arquivo no Servidor</h1>
    <button id="criarArquivo">Criar Arquivo</button>
    
    <button onclick="location.href='/webrtc'" type="button">webRTC</button>

    <script>
        // Seleciona o botão pelo ID
        const botao = document.getElementById('criarArquivo');

        // Adiciona um evento de clique ao botão
        botao.addEventListener('click', async () => {
            const dados = {
                nomeArquivo: 'arquivo.txt', // Nome do arquivo
                conteudo: 'Este é o conteúdo do arquivo criado no servidor!' // Conteúdo do arquivo
            };

            try {
                // Envia uma solicitação POST para o servidor
                // const resposta = await fetch('https://localhost:8443/criar-arquivo', {
                const resposta = await fetch('/criar-arquivo', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(dados)
                });

                const resultado = await resposta.json();
                console.log(resultado.mensagem); // Exibe a mensagem do servidor no console
            } catch (erro) {
                console.error('Erro ao criar o arquivo:', erro);
            }
        });
    </script>
</body>
</html>